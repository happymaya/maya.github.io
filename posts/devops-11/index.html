<!DOCTYPE html><html lang="zh-CN" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="DevOps - 持续集成(11)" /><meta name="author" content="superhsc" /><meta property="og:locale" content="zh_CN" /><meta name="description" content="什么是持续集成？" /><meta property="og:description" content="什么是持续集成？" /><link rel="canonical" href="/posts/devops-11/" /><meta property="og:url" content="/posts/devops-11/" /><meta property="og:site_name" content="ThinkerWalker" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-03-12T15:33:00+00:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="DevOps - 持续集成(11)" /><meta name="twitter:site" content="@happymaya" /><meta name="twitter:creator" content="@superhsc" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"superhsc"},"dateModified":"2022-05-26T21:13:46+00:00","datePublished":"2020-03-12T15:33:00+00:00","description":"什么是持续集成？","headline":"DevOps - 持续集成(11)","mainEntityOfPage":{"@type":"WebPage","@id":"/posts/devops-11/"},"url":"/posts/devops-11/"}</script><title>DevOps - 持续集成(11) | ThinkerWalker</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="ThinkerWalker"><meta name="application-name" content="ThinkerWalker"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" https://images.happymaya.cn/assert/avatar/logo.png " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">ThinkerWalker</a></div><div class="site-subtitle font-italic">日拱一卒 功不唐捐</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>首页</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>分类</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>标签</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>归档</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>关于</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/happymaya" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/happymaya" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['haoshichuan','foxmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> 首页 </a> </span> <span>DevOps - 持续集成(11)</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> 文章</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="搜索..."> </span> <span id="search-cancel" >取消</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"> <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 800 500'%3E%3C/svg%3E" data-src="https://images.happymaya.cn/assert/devops/devops.png" class="preview-img bg" alt="Preview Image" width="800" height="500" data-proofer-ignore><h1 data-toc-skip>DevOps - 持续集成(11)</h1><div class="post-meta text-muted"><div> 作者 <em> <a href="https://github.com/happymaya">superhsc</a> </em></div><div class="d-flex"><div> <span> 发表于 <em class="timeago" data-ts="1584027180" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2020-03-12 </em> </span> <span> 更新于 <em class="timeago" data-ts="1653599626" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-05-27 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="3659 字"> <em>20 分钟</em>阅读</span></div></div></div><div class="post-content"><h3 id="什么是持续集成"><span class="mr-2">什么是持续集成？</span><a href="#什么是持续集成" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p><strong><em>持续</em></strong>的意思并不是“始终，一直”，它的意思是“随时”。</p><p>比较恰当的频率是：每当有人提交代码，同时集成一次。</p><p>“持续集成”实践最早来自 1996 年 Kent Beck（肯特·贝克）提出的极限编程方法（XP）。他在《解析极限编程——拥抱变化》一书中给出了一个简短的说明：“持续集成是每天多次集成和生成系统，每次都完成一个构建任务”。</p><p>在 2006 年 5 月 1 日，Martin Fowler（马丁·福勒）在其个人官网给出了相对正式的定义：</p><blockquote><p>持续集成是一种软件开发实践，团队成员频繁地将他们的工作成果集成在一起。通常是每人每天至少提交一次，这样每天就有多次集成。每次提交后，自动触发一次包含自动化测试的构建任务，以便能尽早发现集成问题。</p></blockquote><p>通过这种方式，许多团队大大减少了集成阶段的问题。由此可以看出，<strong>持续集成是一种质量反馈的机制，能够尽早地发现代码中的问题，并提前解决问题。</strong></p><h3 id="为什么要做持续集成"><span class="mr-2">为什么要做持续集成？</span><a href="#为什么要做持续集成" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>众所周知，软件开发有一个特点，就是在没有开发完成之前，很长一段时间内是无法运行应用程序的。一般都是前期大家开发各自的功能模块，最后在集成阶段将功能集成在一起，进行验收测试。这样做就会导致几个问题：</p><ul><li>由于长期在各自的分支上开发，导致在集成阶段合并分支时产生大量冲突，无法合并；<li>由于之前并未进行过任何集成，导致在集成阶段耗时太长，或者根本无法集成；<li>由于之前并未进行过任何测试，导致系统集成后发现并不满足要求。</ul><p>解决上面问题的最佳方法就是<strong>持续集成</strong>。</p><p>目前在谈到集成时，主要有以下两种集成方式：</p><ul><li><strong>即时集成</strong>：是指团队成员每次提交之后就进行集成，并执行编译、构建、自动化测试等任务来检查个人提交的代码是否可用<ul><li>这种集成方式要求执行的时间要短，要快速反馈结果，因此只能执行一些简单地测试。</ul><li><strong>定时集成</strong>：类似每日构建（Daily Build），是指每天定时（一般为晚上）自动执行一次集成过程，第二天将执行结果发送给关系人<li>-这种集成方式注重的是检测的全面性和彻底性，对执行时长要求不高。</ul><p>持续集成一般是指即时集成，但定时集成在某些场景下也是非常有用的。比如，比较耗时的集成过程。</p><h3 id="持续集成的工作流程"><span class="mr-2">持续集成的工作流程</span><a href="#持续集成的工作流程" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>持续集成服务器可以采用目前最受欢迎的 Jenkins。</p><p>每次提交后具体的执行步骤是：</p><ol><li>开发人员在本地工作空间提交代码到代码仓库；<li>版本控制系统通过 WebHook 等机制实时通知<strong>持续集成服务器</strong>；<li>持续集成服务器克隆最新的代码和构建脚本到服务器本地，或者专用的服务器；<li>在持续集成服务器或专用服务器上执行构建脚本，对最新的代码进行检查，包括<strong>编译构建</strong>、<strong>代码动静态扫描</strong>、<strong>单元测试</strong>以及<strong>部署到测试环境运行功能测试</strong>等；<li>运行结束后，<strong>自动生成</strong>执行结果报告；<li>将执行结果通过邮件等方式通知给开发人员。</ol><p>为了保证每次集成的效率，以上步骤都是通过自动化方式执行的。</p><p>开发人员只需要专注于代码开发，提交后只需等待几分钟就能够收到执行结果。</p><p>这里需要强调的是，虽然开发人员不需要关注除代码开发之外的事情，但对每次提交有要求，比如：<strong>要保证每次提交的是一个完整的功能项</strong>。</p><p>代码只写了一半就提交，功能测试肯定是通不过的。</p><h3 id="如何实现持续集成"><span class="mr-2">如何实现持续集成</span><a href="#如何实现持续集成" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>实现持续集成需要一定的先决条件，也就是上图中的几个组成部分，包含<strong>版本控制系统</strong>、<strong>持续集成系统</strong>和<strong>自动化测试</strong>。</p><h4 id="版本控制系统"><span class="mr-2">版本控制系统</span><a href="#版本控制系统" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p>版本控制系统用于存储和软件相关的所有内容。</p><p>比如应用程序的源代码、数据库脚本、构建脚本和部署脚本等。</p><p>目前采用的都是基于 Git 的分布式版本控制系统，如 GitLab、GitHub、Gitea 等。</p><p>不管是自研的还是开源的，对于应用持续集成实践，版本控制系统提供了基本的<strong>版本控制能力</strong>，能够记录哪个版本的代码是通过测试的，哪个版本还存在问题，并对有问题的版本进行回滚。</p><p>为了提高持续集成的效率，当代码提交后，都会采用实时通知机制。</p><p>目前的版本控制系统都提供了基于 <strong>WebHook</strong> 或基于消息的<strong>通知机制</strong>，当不同类型的事件发生后，就会通知注册方。</p><h4 id="持续集成系统"><span class="mr-2">持续集成系统</span><a href="#持续集成系统" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p>虽然持续集成实践中并未要求一定要有个持续集成的工具。</p><p>但工欲善其事必先利其器，使用持续集成工具可以达到事半功倍的效果。</p><p>目前常用的持续集成工具有开源的 Jenkins，功能比较完备，基于插件体系可以与构建和部署领域的很多工具进行集成。</p><p>持续集成系统与版本控制系统集成时，一个关键点就是如何触发构建。</p><p>Jenkins 提供了多种触发策略来满足不同的需求，重点如下：</p><ul><li><strong>定时构建</strong>：提供了类似 cron 的功能来定期执行。一般主要用于像每日构建/每周构建这样定期执行的构建。<li><strong>Build when a change is pushed to GitLab</strong>：当 GitLab 发生变更后触发构建，该选项需要添加 GitLab 的 WebHook，当事件发生时才能进行通知。<li><strong>轮询 SCM</strong>：通过轮询的方式检查版本控制系统是否发生变更。该选项是一个成本很高的操作，因为每次轮询都需要 Jenkins 扫描整个工作空间并与服务器进行验证。</ul><h4 id="自动化测试"><span class="mr-2">自动化测试</span><a href="#自动化测试" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p>持续集成的目的是提前发现代码中存在的问题，保证软件是可工作的。如果没有全面的自动化测试，构建成功只能意味着应用程序能够编译通过，并不能保证软件的功能是正常的。因此，在持续集成流程中，自动化测试是必须的。有三类测试需要加入持续集成的流程中，分别是<strong>单元测试</strong>、<strong>集成测试</strong>和<strong>验收测试</strong>。</p><ul><li><strong>单元测试</strong>：用于单独测试应用程序中某些小单元的行为，比如一个方法、一个函数。通常不需要启动整个应用程序就可以执行，而且也不需要连接数据库、文件系统和网络。<li><strong>集成测试</strong>：用于测试应用程序中几个组件的行为。与单元测试一样，通常也需要启动整个应用程序，但有可能需要连接数据库、访问文件系统或其他外部系统或接口。<li><strong>验收测试</strong>：用于验证应用程序是否满足业务需求所定义的验收条件，包含应用程序提供的功能，以及其他非功能性需求，如容量、安全性等。验收测试通常要将整个应用程序运行于测试环境之中。<li><h3 id="开发人员的要求"><span class="mr-2">开发人员的要求</span><a href="#开发人员的要求" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3></ul><p>为了做好持续集成，除了上面提到的一些工具作为支撑，对每个开发人员也提出了一些要求，主要体现在以下三个方面。</p><h4 id="频繁提交"><span class="mr-2">频繁提交</span><a href="#频繁提交" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p>正如在开头提到，持续的含义是“<strong>随时</strong>”。我也给出了最恰当的频率：<strong>只要有人提交就需要进行集成</strong>。对于持续集成来说，开发人员需要做的就是频繁提交代码到版本控制库中一，每天至少提交一次。这样做有几个好处：</p><ul><li>提交得越频繁，越早收到集成的反馈；<li>每次提交的变更很小，就很少会导致构建失败；<li>即便是导致构建失败，也很容易知道是哪里的问题，很容易修复或者回滚。</ul><p>在持续集成的实践中，建议采用“<strong>主干开发</strong>”的工作模式，因为这种模式才能真正做到<strong>持续集成</strong>。但在很多企业里都是采用 GitFlow 等基于分支的工作流模式来进行协同开发。因为每个开发人员都是在自己的分支上开发，并未与其他分支的代码实现实时集成。这里开发人员需要注意的是，不仅要频繁将代码提交到各自的分支，同时每天要至少一次将各自的分支合并到<strong>发布分支</strong>，进行全流程测试。</p><h4 id="提交一个完整的任务"><span class="mr-2">提交一个完整的任务</span><a href="#提交一个完整的任务" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p>不要只为了频繁提交而随意提交代码，<strong>频繁提交不等于随意提交</strong>。</p><p>保证每次提交的内容都是有意义的，都是一个完整的任务。</p><p>比如要添加一个查询家庭地址的接口，要把该功能开发完成后一次性提交，而不是接口写了一半就提交了。</p><p>这个要求和之前谈到的限制在制品数量是有关系，如果同时并行的任务数太多，就会出现在一次提交里同时包含多个任务的代码。这种情况提交的代码会严重影响测试效果。</p><p>这种情况非常普遍，我正在处理一个 Bug 或者开发一个功能，已经改了很多文件。但这时需要处理其他更紧急的工作，如果在当前状态下修改就会出现同一次提交包含多个任务代码的问题。</p><p>这里介绍一个方法来解决这个问题：可以使用 git stash 命令，保存当前对代码库做的更改，并恢复到上次提交的状态。当提交完穿插的任务后，再恢复到上一个更改的状态，继续完成该任务。这样就能保证每次提交都是一个完整的任务。 下面是几个常见的命令：</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre><span class="c">#保存未提交的变更</span>
<span class="nv">$ </span>git stash

<span class="c">#查看已保存的清单</span>
<span class="nv">$ </span>git stash list
stash@<span class="o">{</span>0<span class="o">}</span>: WIP on master: 8a15b20 New Message

<span class="c">#恢复最后一次保存的记录</span>
<span class="nv">$ </span>git stash apply 

<span class="c">#恢复指定的保存记录</span>
<span class="nv">$ </span>git stash apply stash@<span class="o">{</span>0<span class="o">}</span>

</pre></table></code></div></div><h4 id="构建失败后立即修复"><span class="mr-2">构建失败后立即修复</span><a href="#构建失败后立即修复" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p>当某个团队成员提交代码后导致构建失败，说明本次提交影响了软件的整体质量。这个时候，整个团队都不能再继续提交代码了，而是先处理构建失败的问题。</p><p>这个实践也是应用了丰田生产管理系统（TPS）中的“<strong>立即停止原则</strong>”。其含义是：当生产线上已经发现了问题，就应该立即停止来解决问题。如果问题没有得到有效解决还仍然是生产线保持运行，则会生产出更多的残次品。</p><p>同样的道理，对于软件团队来说，如果提交构建失败后没有立即修复，其他人再次提交新的代码，就一定会引起提交构建失败。那么，这次失败是上次失败导致的，还是新的代码导致的，就变得很复杂了。</p><h3 id="总结"><span class="mr-2">总结</span><a href="#总结" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>使用持续集成来解决软件在开发后期进行集成出现的各种问题。实践的思想就是快速反馈，通过尽早地集成并进行自动化的测试来发现代码中存在的问题，尽早修复。</p><p>持续集成并不是一个工具，而是一个实践。通过工具、平台加快持续集成落地的效率，通过让团队成员对持续集成的准则达成共识，来提升持续集成的效果。持续集成在很多企业里都是最先被落地的，这里介绍了只是实现持续集成的思路和方法，欢迎你在评论区分享你的实践心得。</p><blockquote><p class="prompt-warning">主干开发是指开发人员总是将代码提交到主干，而不是分支。这种情况下就能及时获得其他人的修改，确保所有的代码都被持续集成，Google就是采用的这种模式。</p></blockquote><blockquote class="prompt-warning"><div><p>cron 是Linux下执行定时任务的程序。</p></div></blockquote><blockquote class="prompt-warning"><div><p>“立即停止”的具体操作：对于软件开发来说，可以采取禁止他人提交的策略，只能由导致失败的人进行修复，修复后再对其他人放开。</p></div></blockquote></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/devops/'>DevOps</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/devops/" class="post-tag no-text-decoration" >DevOps</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> 本文由作者按照 <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> 进行授权</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">分享</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=DevOps - 持续集成(11) - ThinkerWalker&amp;url=/posts/devops-11/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=DevOps - 持续集成(11) - ThinkerWalker&amp;u=/posts/devops-11/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=/posts/devops-11/&amp;text=DevOps - 持续集成(11) - ThinkerWalker" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="分享链接" data-title-succeed="链接已复制！"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">最近更新</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/use-spring-security-to-build-a-user-authentication-system/">Spring Security 的配置体系</a><li><a href="/posts/spring-data-jpa-test/">利用单元测试和集成测试</a><li><a href="/posts/query-annotation/">Spring Data JPA - @Query</a><li><a href="/posts/defining-query-methods/">Spring Data JPA - Defining Query Methods 的命名语法与参数</a><li><a href="/posts/cache-redis-02/">Redis 的数据类型</a></ul></div><div id="access-tags"><div class="panel-heading">热门标签</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/thread/">thread</a> <a class="post-tag" href="/tags/jvm/">JVM</a> <a class="post-tag" href="/tags/design-pattern/">Design Pattern</a> <a class="post-tag" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式</a> <a class="post-tag" href="/tags/architecture-design/">Architecture Design</a> <a class="post-tag" href="/tags/backend-system/">Backend System</a> <a class="post-tag" href="/tags/devops/">DevOps</a> <a class="post-tag" href="/tags/spring-security/">Spring Security</a> <a class="post-tag" href="/tags/springboot/">SpringBoot</a> <a class="post-tag" href="/tags/cache/">Cache</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">文章内容</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>相关文章</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/docker-DevOps/"><div class="card-body"> <em class="timeago small" data-ts="1597977180" > 2020-08-21 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Docker & DevOps（13）</h3><div class="text-muted small"><p> DevOps 作为一个热门的概念，近几年被提及的频率也越来越高。 有些人说它是一种方法论，有些人说它是一堆工具，有些人说它是企业的一种管理模式。 那么，DevOps 究竟是什么呢？Docker 在 DevOps 中又扮演了什么角色呢？ DevOps 的前生今世 1964 年，世界上的第一台计算机诞生，那时的计算机主要用于军事领域。 计算机的运行离不开程序，那时负责编程的人员被称之为...</p></div></div></a></div><div class="card"> <a href="/posts/docker-CI-CD-1/"><div class="card-body"> <em class="timeago small" data-ts="1597991580" > 2020-08-21 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Docker & CI/CD 上（14）</h3><div class="text-muted small"><p> DevOps 的思想可以缩短上线周期并且提高软件迭代速度，而 CI/CD 则是 DevOps 思想中最重要的部分。 具体来说，CI/CD 是一种通过在应用开发阶段，引入自动化的手段来频繁地构建应用，并且向客户交付应用的方法。 它的核心理念是持续开发、持续部署以及持续交付，它还可以让自动化持续交付贯穿于整个应用生命周期，使得开发和运维统一参与协同支持。 下面我们来详细了解下 CI/CD 。...</p></div></div></a></div><div class="card"> <a href="/posts/docker-CI-CD-2/"><div class="card-body"> <em class="timeago small" data-ts="1598085180" > 2020-08-22 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Docker & CI/CD 下（15）</h3><div class="text-muted small"><p> 昨天使用 Docker + Jenkins + GitLab 搭建 CI/CD 环境，今天使用已经构建好的环境来实际构建和部署一个应用。 构建和部署一个应用的流程可以分为五部分。 我们首先需要配置 GitLab SSH 访问公钥，使得我们可以直接通过 SSH 拉取或推送代码到 GitLab。 接着将代码通过 SSH 上传到 GitLab。 再在 Jenkins 创建构建任务...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/devops-10/" class="btn btn-outline-primary" prompt="上一篇"><p>DevOps - 环境管理(10)</p></a> <a href="/posts/devops-12/" class="btn btn-outline-primary" prompt="下一篇"><p>DevOps - API 管理(12)</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://twitter.com/happymaya">superhsc</a>. <span data-toggle="tooltip" data-placement="top" title="除非另有说明，本网站上的博客文章均由作者按照知识共享署名 4.0 国际 (CC BY 4.0) 许可协议进行授权。">保留部分权利。</span></p></div><div class="footer-right"><p class="mb-0"> 本站由 <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> 生成，采用 <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> 主题。</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">热门标签</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/thread/">thread</a> <a class="post-tag" href="/tags/jvm/">JVM</a> <a class="post-tag" href="/tags/design-pattern/">Design Pattern</a> <a class="post-tag" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式</a> <a class="post-tag" href="/tags/architecture-design/">Architecture Design</a> <a class="post-tag" href="/tags/backend-system/">Backend System</a> <a class="post-tag" href="/tags/devops/">DevOps</a> <a class="post-tag" href="/tags/spring-security/">Spring Security</a> <a class="post-tag" href="/tags/springboot/">SpringBoot</a> <a class="post-tag" href="/tags/cache/">Cache</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><script src="https://cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js"></script> <script> $(function() { function updateMermaid(event) { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { const mode = event.data.message; if (typeof mermaid === "undefined") { return; } let expectedTheme = (mode === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* Re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } let initTheme = "default"; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches ) ) { initTheme = "dark"; } let mermaidConf = { theme: initTheme /* <default|dark|forest|neutral> */ }; /* Markdown converts to HTML */ $("pre").has("code.language-mermaid").each(function() { let svgCode = $(this).children().html(); $(this).addClass("unloaded"); $(this).after(`<div class=\"mermaid\">${svgCode}</div>`); }); mermaid.initialize(mermaidConf); window.addEventListener("message", updateMermaid); }); </script><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">搜索结果为空</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/zh.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script> /* see: <https://docs.mathjax.org/en/latest/options/input/tex.html#tex-options> */ MathJax = { tex: { inlineMath: [ /* start/end delimiter pairs for in-line math */ ['$','$'], ['\\(','\\)'] ], displayMath: [ /* start/end delimiter pairs for display math */ ['$$', '$$'], ['\\[', '\\]'] ] } }; </script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"> </script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
