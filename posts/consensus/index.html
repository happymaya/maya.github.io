<!DOCTYPE html><html lang="zh-CN" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="共识问题" /><meta name="author" content="superhsc" /><meta property="og:locale" content="zh_CN" /><meta name="description" content="共识问题：区块链如何确认记账权" /><meta property="og:description" content="共识问题：区块链如何确认记账权" /><link rel="canonical" href="/posts/consensus/" /><meta property="og:url" content="/posts/consensus/" /><meta property="og:site_name" content="ThinkerWalker" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-11-05T14:44:22+00:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="共识问题" /><meta name="twitter:site" content="@happymaya" /><meta name="twitter:creator" content="@superhsc" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"superhsc"},"dateModified":"2020-11-05T14:44:22+00:00","datePublished":"2020-11-05T14:44:22+00:00","description":"共识问题：区块链如何确认记账权","headline":"共识问题","mainEntityOfPage":{"@type":"WebPage","@id":"/posts/consensus/"},"url":"/posts/consensus/"}</script><title>共识问题 | ThinkerWalker</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="ThinkerWalker"><meta name="application-name" content="ThinkerWalker"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" https://images.happymaya.cn/assert/avatar/logo.png " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">ThinkerWalker</a></div><div class="site-subtitle font-italic">日拱一卒 功不唐捐</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>首页</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>分类</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>标签</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>归档</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>关于</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/happymaya" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/happymaya" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['haoshichuan','foxmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> 首页 </a> </span> <span>共识问题</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> 文章</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="搜索..."> </span> <span id="search-cancel" >取消</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>共识问题</h1><div class="post-meta text-muted"><div> 作者 <em> <a href="https://github.com/happymaya">superhsc</a> </em></div><div class="d-flex"><div> <span> 发表于 <em class="timeago" data-ts="1604587462" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2020-11-05 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="3047 字"> <em>16 分钟</em>阅读</span></div></div></div><div class="post-content"><h1 id="共识问题区块链如何确认记账权">共识问题：区块链如何确认记账权</h1><p>区块链起源于中本聪的比特币，并作为比特币的底层技术，本质上是一个去中心化的数据库，其特点是<strong>去中心化</strong>、<strong>公开透明</strong>，作为<strong>分布式账本技术</strong>，每个节点都可以参与数据库的记录。</p><p>区块链是一个<strong>注重安全和可信度</strong>胜过效率的一项技术，如果说互联网技术解决的是通讯问题，区块链技术解决的则是信任问题。</p><p>其中有一项是区块链中的核心问题：作为分布式账本，每个参与者都维护了一份数据，那么如何确认记账权，最终的账本以谁为准呢？</p><h1 id="区块链的共识">区块链的共识</h1><p>区块链的共识问题实际来源于分布式系统的一致性问题。</p><p>共识（Consensus），共同的认识，研究的是多个成员如何达成一致，典型的比如<strong>投票选举</strong>。</p><p>共识机制在区块链中扮演着核心的地位，因为它决定了谁有记账的权利，以及记账权利的选择过程和理由。</p><p>不同的虚拟货币采用共识机制也不同，常见的共识机制有 <strong>POW</strong>、<strong>POS</strong>、<strong>DPOS</strong>等。</p><h2 id="consistency一致性与-consensus-的区别"><span class="mr-2">Consistency（一致性）与 Consensus 的区别</span><a href="#consistency一致性与-consensus-的区别" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Consistency，指的是 CAP 中的 C。</p><p>Consistency 侧重的是<strong>内容在时间顺序上的一致和统一</strong>；Consensus 则是指由<strong>许多参与者对某项内容达成共识</strong>。所以一般把 Consistency 翻译为“一致性”，把 Consensus 翻译为“共识”。</p><h2 id="拜占庭将军问题"><span class="mr-2">拜占庭将军问题</span><a href="#拜占庭将军问题" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>如果把共识机制延伸到分布式系统中，就是系统需要有一个主进程来协调，系统的所有决定都由主进程来达成一致性。</p><p>到了区块链中，由于区块链是一种<strong>去中心化的分布式系统</strong>，所以区块链中是没有类似于团队里的领导，以及分布式系统中的 master 角色，这样就需要有某种共识机制，以便保证系统一致性。</p><p>一般在网络通信中，把节点故障，也就是信道不可靠的情况称为“非拜占庭错误”，恶意响应，也就是系统被攻击，传递错误消息称为“拜占庭错误”。</p><p>拜占庭错误来自于一个故事模型：</p><blockquote><p>拜占庭帝国就是中世纪的土耳其帝国，拥有巨大的财富，周围 10 个邻邦垂诞已久，但拜占庭高墙耸立，固若金汤，没有一个单独的邻邦能够成功入侵。任何单个邻邦入侵都会失败，同时也有可能自身被其他 9 个邻邦入侵。</p><p>拜占庭帝国防御能力如此之强，至少要有十个邻邦中的一半以上同时进攻，才有可能攻破。然而，如果其中的一个或者几个邻邦本身答应好一起进攻，但实际过程出现背叛，那么入侵者可能都会被歼灭。</p><p>于是每一方都小心行事，不敢轻易相信邻国，这就是拜占庭将军问题。</p></blockquote><p>在拜占庭问题里，各邻国最重要的事情是：所有将军如何能过达成共识去攻打拜占庭帝国。拜占庭将军问题核心描述是军中可能有叛徒，却要保证进攻一致，由此引申到计算机领域，发展成了一种容错理论：</p><p>一群将军想要实现某一个目标，比如一致进攻或者一致撤退，单独行动是行不通的，必须合作，达成共识；由于叛徒的存在，将军们不知道应该如何达到一致。</p><p>拜占庭将军问题（Byzantine Generals Problem）和 Paxos 算法、逻辑时钟等，都是由 Leslie Lamport 提出的。</p><p>Lamport 可以说是分布式系统的奠基人之一，由于在分布式领域的一系列贡献，Lamport 获得了 2013 年的图灵奖。</p><h2 id="拜占庭将军问题和记账权的联系"><span class="mr-2">拜占庭将军问题和记账权的联系</span><a href="#拜占庭将军问题和记账权的联系" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>在记账权的归属中，关键的是<strong>如何避免恶意共识的出现，也就是错误的记账</strong>，类似如何处理拜占庭将军中的叛徒。</p><p>比特币是区块链技术最广泛的应用，在比特币中如何决定记账权呢？答案就是 <strong>POW 机制</strong>。</p><h3 id="pow-工作量证明"><span class="mr-2">POW 工作量证明</span><a href="#pow-工作量证明" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p><strong>PoW（Proof of Work，工作量证明）</strong>被认为是经过验证最安全的拜占庭解决机制，最早是用来<strong>防垃圾邮件</strong>的，典型的就是 <strong>Google 邮箱的反垃圾邮件系统</strong>。</p><p>Google 邮箱强制要求每一个给 Google 服务器发送邮件的发送者，必须先完成一定量的计算工作，造成一小段时间的延迟，比如延迟 1 秒，如果是正常的邮件发送，这个时间是可以接受；如果是广告邮件发送者，因为要进行大量的发送工作，这种无价值的计算是无法忍受的。</p><h4 id="挖矿的由来"><span class="mr-2">挖矿的由来</span><a href="#挖矿的由来" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p>挖矿是比特币系统中一个形象化的表达。</p><p>比特币挖矿是将一段时间内比特币系统中发生的交易进行确认，并记录在区块链上形成新区块的过程，由于需要竞争记账权，利用计算机去计算 Hash 数值，随机碰撞解题，这个过程就是挖矿。</p><p>换句话说，就是比特币系统出一道数学题，大家抢答最优解，挖矿就是记账的过程，矿工是记账员，区块链就是账本。</p><h4 id="比特币的-pow-实现"><span class="mr-2">比特币的 POW 实现</span><a href="#比特币的-pow-实现" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p>比特币中的 POW 实现，是通过计算来猜测一个数值（Nonce），得以解决规定的 Hash 问题，下面是比特币的区块结构，可以看到区块头有个随机数字段，这个就是 Nonce 值：</p><p><img data-src="https://images.happymaya.cn/assert/distributed/bitcoin-pow.png" alt="比特币的 POW 实现" data-proofer-ignore></p><p>中本聪在比特币系统中设置了一道题目，通过不断调节 Nonce 的值，来对区块头算 Hash，要求找到一个 Nonce 值，使得算出来的 Hash 值满足某个固定值。</p><p>具体的 Hash 方法一般是使用 SHA256 算法 ，可以查看这个小工具来测试 https://tool.oschina.net/encrypt?type=2。</p><p>简化一下计算过程，假设第 100 个区块给出的区块值是下列字符串，最早计算出该字符串的节点可以获得比特币：<code class="language-plaintext highlighter-rouge">f7684590e9c732fb3cf4bf0b8e0f5ea9511e8bbaacb589892634ae7938e5700c</code></p><p>由于 Hash 算法是一个不可以逆的算法，没法通过具体的 Hash 值倒推出原文，这样每个节点只能采用穷举的方法，也就是选择各种字符串，比如开始的 a、b、c、1、2、3、…，不断的尝试。</p><p>比特币系统自身会调节难度，控制解题的时间，一般来讲，约每 10 分钟挖出一个区块，在这 10 分钟内，计算机只能不停地去计算，去试各种字符串。</p><p>这个过程实际上是考验各个节点的服务器性能，也就是算力。如果算力非常强大，有几万台服务器，可以很快得到 Nonce 值，也就是正确答案：happynaya，对应 Hash 值和题目要求一致。</p><p>接下来就可以把这个 Nonce 值放在结构体里，通过 P2P 网络广播出去，其他的系统节点收到后，发现这个 Nonce 值是合法的，能满足要求，会认为你挖矿成功。</p><p>由于解出了题目，会获得系统对应的比特币奖励，以及本区块内所有交易产生的手续费。其他节点发现有人已经算出来了，就会放弃本次计算，然后开启下一个区块的题目，去寻找下一个区块头的 Nonce 值。</p><p>作为落地的最大区块链系统，比特币的区块信息一直在动态生成。区块信息来自 https://www.blockchain.com/.</p><h4 id="区块链分叉和-51-攻击"><span class="mr-2">区块链分叉和 51% 攻击</span><a href="#区块链分叉和-51-攻击" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p>Hash 问题具有不可逆的特点，主要依靠暴力计算，谁的算力多，谁最先解决问题的概率就越大。当掌握超过全网一半算力时，就能控制网络中链的走向，这也是所谓 51% 攻击的由来。</p><p>因为区块链中每个节点都可以参与记账，系统中可能出现链的分叉（Fork），最终会有一条链成为最长的链。</p><p>但是在现实社会中，牵扯到参与各方巨大的利益关系，算力之间的博弈往往并没有那么简单，以比特币为例，已经分裂出了 BCH（比特币现金）、BTG（比特币黄金）等分叉币。</p><h4 id="pow-机制优缺点"><span class="mr-2"><strong>POW 机制优缺点</strong></span><a href="#pow-机制优缺点" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><ol><li><p>POW 是第一个完全实现去中心化共识算法的，并且节点自由进出，容易实现，由于对算力的高要求，破坏系统花费的成本也巨大；</p><li><p>POW 机制的缺点也是显而易见的，最大的就是浪费能源，巨大的算力被浪费在了无尽的挖矿行为中，并且本身并不产生任何价值；</p><p>这也是区块链被很多人指责的一点，浪费了大量的能源，收获的仅仅是一堆无价值的数据存储，换个角度来思考，这也说明了在去中心化的场景下，实现信任是多么的困难；</p><p>另一方面也可以看到，大量的数字货币矿场都是建设在西南地区的深山中，利用当地价格低廉的电力资源，或者就直接和发电站建设在一起。</p></ol><h4 id="其他共识方法"><span class="mr-2">其他共识方法</span><a href="#其他共识方法" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p>除了 POW 机制，还有其他的共识方法，典型的就是 <strong>POS</strong> 和 <strong>DPOS</strong> 等。</p><p><strong>POS 权益证明</strong></p><p>POS（Proof of Stake，权益证明）类似现实生活中的股东大会机制，拥有股份越多的人拥有越多的投票权，也就越容易获取记账权。</p><p>POS 是通过保证金来对赌一个合法的块成为新的区块，收益为抵押资本的利息和交易服务费。提供证明的保证金越多，则获得记账权的概率就越大，合法记账者可以获得收益。著名的数字货币 ETH（以太坊），就在共识算法中采用了 POS 机制。</p><p><strong>DPOS 委托权益证明</strong></p><p>采用 DPOS（Delegated Proof of Stake，委托权益证明）机制的典型代表是 EOS，如果说 POS 类似股东大会，比较的是谁持有的股份多，那么 DPOS 类似于公司董事会制度，在 DPOS 共识制度下，会选出一定数量的代表，来负责生产区块。</p><h1 id="总结">总结</h1><p>区块链可以说是分布式系统最广泛的应用之一，主要总结<strong>区块链共识问题的由来</strong>、拜占庭将军问题，以及<strong>典型的 POW 解决机制</strong>。</p><p>区块链是一个非常广的主题，以拜占庭将军问题为例，在区块链之前，还有两种解决方案：</p><ol><li>口头协议<li>书面协议</ol><p>书籍：</p><ul><li><a href="https://book.douban.com/subject/27081969/">《区块链开发指南》</a><li><a href="https://book.douban.com/subject/27081206/">《区块链核心算法解析》</a><li><a href="https://www.cnblogs.com/binyue/p/8558446.html">比特币的区块结构解析</a><li><a href="https://www.cnblogs.com/binyue/p/8595810.html">区块链技术发展及应用场景</a><li><a href="https://people.eecs.berkeley.edu/~luca/cs174/byzantine.pdf">The Byzantine Generals Problem</a><li><a href="https://www.8btc.com/">8btc</a></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/architecture-design/'>Architecture Design</a>, <a href='/categories/distributed/'>Distributed</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/distributed/" class="post-tag no-text-decoration" >distributed</a> <a href="/tags/consensus/" class="post-tag no-text-decoration" >Consensus</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> 本文由作者按照 <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> 进行授权</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">分享</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=共识问题 - ThinkerWalker&amp;url=/posts/consensus/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=共识问题 - ThinkerWalker&amp;u=/posts/consensus/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=/posts/consensus/&amp;text=共识问题 - ThinkerWalker" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="分享链接" data-title-succeed="链接已复制！"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">最近更新</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/use-spring-security-to-build-a-user-authentication-system/">Spring Security 的配置体系</a><li><a href="/posts/spring-data-jpa-test/">利用单元测试和集成测试</a><li><a href="/posts/query-annotation/">Spring Data JPA - @Query</a><li><a href="/posts/defining-query-methods/">Spring Data JPA - Defining Query Methods 的命名语法与参数</a><li><a href="/posts/cache-redis-02/">Redis 的数据类型</a></ul></div><div id="access-tags"><div class="panel-heading">热门标签</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/thread/">thread</a> <a class="post-tag" href="/tags/jvm/">JVM</a> <a class="post-tag" href="/tags/design-pattern/">Design Pattern</a> <a class="post-tag" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式</a> <a class="post-tag" href="/tags/architecture-design/">Architecture Design</a> <a class="post-tag" href="/tags/backend-system/">Backend System</a> <a class="post-tag" href="/tags/devops/">DevOps</a> <a class="post-tag" href="/tags/spring-security/">Spring Security</a> <a class="post-tag" href="/tags/springboot/">SpringBoot</a> <a class="post-tag" href="/tags/cache/">Cache</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">文章内容</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>相关文章</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/CAP/"><div class="card-body"> <em class="timeago small" data-ts="1604327580" > 2020-11-02 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>CAP</h3><div class="text-muted small"><p> 分布式系统技术是用来解决集中式架构的性能瓶颈问题，来适应快速发展的业务规模。 一般来说，分布式系统是建立在网络之上的硬件或者软件系统，彼此之间通过消息等方式进行通信和协调。 分布式系统的特点： 可扩展性，通过对服务、存储扩展，来提高系统的处理能力 不出现单点故障，单点故障（Single Poin Failure）指的是系统中某个组件一旦失效，会让这个系统无法工作。而不出现单点...</p></div></div></a></div><div class="card"> <a href="/posts/Paxos/"><div class="card-body"> <em class="timeago small" data-ts="1604327580" > 2020-11-02 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Paxos 算法</h3><div class="text-muted small"><p> Paxos 算法在分布式领域具有非常重要的地位。 开源分布式锁组件 Google Chuby 的作者 Mike Burrows 说过：这个世界上只有一种一致性算法——Paxos 算法，其他的算法都是残次品。 虽然 Paxos 算法很重要，但也因复杂而著名。 Quorum 机制 分布式系统中的 Quorum 选举算法。在各种一致性算法中都可以看到 Quorum 机制的身影。 Quor...</p></div></div></a></div><div class="card"> <a href="/posts/data-consistency-model/"><div class="card-body"> <em class="timeago small" data-ts="1604414662" > 2020-11-03 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Base 理论</h3><div class="text-muted small"><p> 对于 CAP 来说，放弃强一致性，追求分区容错性和可用性，是很多分布式设计时的选择。在工程实践中，基于 CAP 定理的逐步演化，提出了 Base 理论。 Base 理论 Base 是三个短语的简写，即： 基本可用 Basically Available 软状态 Soft State 最终一致性 Eventually Consistent Base 理论的核心思想是最终...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/zookeeper-consistency/" class="btn btn-outline-primary" prompt="上一篇"><p>ZooKeeper 的数据一致性</p></a> <a href="/posts/Business-System-Commonalities-01/" class="btn btn-outline-primary" prompt="下一篇"><p>后端业务系统共性总结</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://twitter.com/happymaya">superhsc</a>. <span data-toggle="tooltip" data-placement="top" title="除非另有说明，本网站上的博客文章均由作者按照知识共享署名 4.0 国际 (CC BY 4.0) 许可协议进行授权。">保留部分权利。</span></p></div><div class="footer-right"><p class="mb-0"> 本站由 <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> 生成，采用 <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> 主题。</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">热门标签</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/thread/">thread</a> <a class="post-tag" href="/tags/jvm/">JVM</a> <a class="post-tag" href="/tags/design-pattern/">Design Pattern</a> <a class="post-tag" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式</a> <a class="post-tag" href="/tags/architecture-design/">Architecture Design</a> <a class="post-tag" href="/tags/backend-system/">Backend System</a> <a class="post-tag" href="/tags/devops/">DevOps</a> <a class="post-tag" href="/tags/spring-security/">Spring Security</a> <a class="post-tag" href="/tags/springboot/">SpringBoot</a> <a class="post-tag" href="/tags/cache/">Cache</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">搜索结果为空</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/zh.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
